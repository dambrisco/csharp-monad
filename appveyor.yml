version: 1.0.{build}

image: Visual Studio 2015

before_build:
  - nuget restore CSharpMonad.sln
  - choco install curl

build:
  project: CSharpMonad.sln
  verbosity: minimal

deploy_script:
  - curl ifconfig.io

configuration:
  - Release
  - Debug

test: off

artifacts:
  - path: CSharpMonad\lib\Monad.dll
    name: DLL

notifications:
  - provider: Email
    to:
      - dambrisco@gmail.com
    subject: 'Build {{status}}'
    message: "{{message}}, {{commitId}}"
    on_build_success: true
    on_build_failure: true
    on_build_status_changed: true
